{{ define "logs-widget"}}
<div class="row justify-content-center">
    <div class="card text-white border-secondary bg-dark p-0 w-75" style="height: 30rem;">
        <div class="card-header small bg-secondary">
            <h6 class="px-2 m-0">Logs</h6>
        </div>
        <div class="card-body overflow-auto">
            <div id="result"></div>
        </div>
    </div>
</div>

<script>
    if (typeof (EventSource) !== "undefined") {
        var source = new EventSource("/stream");
        source.onmessage = function (event) {
            document.getElementById("result").innerHTML += event.data + "<br>";
        };
    } else {
        document.getElementById("result").innerHTML = "Sorry, your browser does not support server-sent events...";
    }
</script>

{{ end }}